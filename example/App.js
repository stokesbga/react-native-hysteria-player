/**
 * Sample React Native App
 *
 * adapted from App.js generated by the following command:
 *
 * react-native init example
 *
 * https://github.com/facebook/react-native
 */

import React, { Component } from 'react';
import { Platform, StyleSheet, Text, View } from 'react-native';
import Playlist, { PlaylistComponent } from 'react-native-playlist';

const tracklistJSON = require('./data/hiphop_playlist_full.json')

const {
  PlaybarSlider,
  PlayPause,
  SkipNext,
  SkipPrev,
  TrackProgress,
  TrackDuration,
  TrackAlbumArt,
  TrackArtist,
  TrackTitle
} = PlaylistComponent

export default class App extends Component<{}> {
  state = {
    switch: true,
    color1: 'coral',
    color2: '#ccc'
  }

  async componentDidMount() {
    Playlist.setupPlayer()

    setTimeout(() => {
      // this.setState({ 
      //   // switch: false,
      //   // color1: 'violet',
      //   // color2: 'orange'
      // })
    }, 2000)
  }

  render() {
    return (
      <View style={styles.container}>
        <View style={{ flex: 1, width: '100%' }}>
          <View style={{ flex: 1, backgroundColor: '#e0e0e0' }} />
          <View style={{ flex: 1 }}>
            <PlaybarSlider 
              hasControl={true}
              thumbRadius={22}
              trackHeightEnabled={10}
              trackHeightDisabled={3}
              trackPlayedColor={this.state.color1}
              trackRemainingColor={this.state.color2}
              style={{
                backgroundColor: '#f0f0f0',
              }} />
            <View style={{ flexDirection: 'row', marginTop: 100 }}>
              <TrackProgress style={{ flex: 1, marginLeft: 40, marginRight: -40 }} />
              <SkipPrev style={{ flex: 1}} />
              <PlayPause />
              <SkipNext style={{ flex: 1}}/>
              <TrackDuration style={{ flex: 1 }} />
            </View>
          </View>
        </View>
      </View>
    );
  }
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center'
  },
  welcome: {
    fontSize: 20,
    textAlign: 'center',
    margin: 10,
  },
  instructions: {
    textAlign: 'center',
    color: '#333333',
    marginBottom: 5,
  },
});
